<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<link rel="apple-touch-icon" href="apple-touch-icon.png">
<link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico">
<title>Restlet framework | Log service</title>

  
  
    
      <link rel="stylesheet" href="/css/app.min.css">
    
  



<link rel="stylesheet" type="text/css" href="/css/vendor/magnific-popup.css">

<link rel="stylesheet" href="/css/custom.css" />
<link rel="stylesheet" href="/css/app.min.css">
<link rel="stylesheet" href="/css/vendor/prism.css" />
<link rel="stylesheet" href="/css/vendor/component.css" />


      <script src="/js/main.js"></script>


</head>
<body class="static-nav documentation">

  <nav class="m-navigation m-navigation-site m-navigation-fixed" role="navigation">
  <div class="container-fluid">
    <div class="navigation-group">
      <a class="navigation-logo" href="/"><img src="/images/navbarTop.svg"></a>
      <span id="j-navigation-trigger" class="navigation-trigger"></span>
      <ul class="navigation-list navigation-list-right">
        <li class=""><a class="navigation__link" href="/features">Features</a></li>
        <li class="">
          <a class="navigation__link" href="/downloads/current">Download</a>
        </li>
        <li class="">
            <a class="navigation__link" href="/documentation/tutorials/2.5/">Documentation</a></li>
      </ul>
    </div>
  </div>
</nav>


<main id="main" role="main">
  <div class="documentation-wrapper">
<div class="sidebar-wrapper hidden-xs hidden-sm">
  <aside class="section-bg-mako text-white">
    <nav class="documentation-sidebar" aria-label="Documentation navigation" role="navigation">
      <ul id="accordion" class="nav documentation-nav">
        <li>
          <a href="#submenu-1" class="accordion-toggle toggle-switch"><img src="/images/restlet_white_32.svg">Framework</a>
          <ul id="submenu-1" class="nav panel-switch" role="menu">
            <li>
              <a href="#subsubmenu-1" class="accordion-toggle toggle-switch">User guide</a>
              <ul id="subsubmenu-1" class="nav panel-switch lowest-lewel" role="menu">
                <li><a href="/documentation/user-guide/2.4/introduction/overview" >Part 1 - Introduction</a></li>
                <li><a href="/documentation/user-guide/2.4/core/overview" class="active" >Part 2 - Core Restlet</a></li>
                <li><a href="/documentation/user-guide/2.4/editions/overview" >Part 3 - Restlet Editions</a></li>
                <li><a href="/documentation/user-guide/2.4/extensions/overview" >Part 4 - Restlet Extensions</a></li>
                <li><a href="/documentation/user-guide/2.4/appendices/glossary">Appendices</a></li>
              </ul>
            </li>
            <li><a href="/documentation/tutorials/2.4/overview" >Tutorials</a></li>
            <li><a href="/documentation/javadocs/2.4/" >Javadocs</a></li>
            <li><a target="_blank" href="/documentation/2.4/changelog">Change Log</a></li>
          </ul>
        </li>
      </ul>
    </nav>
  </aside>

</div>

<div class="content-wrapper section-bg-white">
  <div class="row hidden-xs hidden-sm">
  <div class="col-md-12">
    <div class="h-cta h-cta--large section-bg-grey">
      <img class="large" src="/images/restlet-framework-dark.svg" alt="Restlet Framework">
      <a href="/downloads/current" class="m-button m-button-flat-green pull-right">Install Framework</a>
    </div>
  </div>
</div>

  <div class="mobile-nav hidden-md hidden-lg">
  <div class="dl-menu-container in-content">
    <div id="dl-menu" class="dl-menuwrapper">
      <button class="dl-trigger">Open Menu</button>
      <ul class="dl-menu">
        <li class="">
          <a href="#">User guide</a>
          <ul class="dl-submenu">
            <li>mobile-nav</li>


      </ul>
    </div>
  </div>
</div>


  <div class="row">
    <div class="col-md-3">
      
<nav class="inner-nav hidden-xs hidden-sm">
  <ul class="content-nav">
    
<nav class="inner-nav hidden-xs hidden-sm">
  <ul class="content-nav">
    <li>
      <a href="/documentation/user-guide/2.4/introduction/overview/">Overview</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/features/">Features</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/">What&#39;s new</a>
        <ul>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.4/">In version 2.4</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.3/">In version 2.3</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.2/">In version 2.2</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.1/">In version 2.1</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.0/">2</a>
        <ul>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.0/api/">API improvements</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.0/engine/">Engine</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.0/extensions/">Extensions</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.0/editions/">Editions</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.0/misc/">Misc</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.0/migration/">Migration</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
  </ul>
</nav>

  </ul>
</nav>

    </div>
    <div class="col-md-9">
      <div class="documentation-content">
        

        <h1>Log service</h1>
        <h1 id="introduction">Introduction</h1>
<p>The log service provides access to logging service. The implementation
is fully based on the standard logging mechanism introduced in JDK 1.4.</p>
<p>Being able to properly log the activity of a Web application is a common
requirement. Restlet Components know by default how to generate
Apache-like logs or even custom ones. By taking advantage of the logging
facility built in the JDK, the logger can be configured like any
standard JDK log to filter messages, reformat them or specify where to
send them. Rotation of logs is also supported; see the
<a href="http://docs.oracle.com/javase/7/docs/api/java/util/logging/package-summary.html">java.util.logging</a>
package for details.</p>
<p>Note that you can customize the logger name given to the
java.util.logging framework by modifying the Component&rsquo;s &ldquo;logService&rdquo;
property. In order to fully configure the logging, you need to declare a
configuration file by setting a system property like:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>System.<span style="color:#b44">setProperty</span>(<span style="color:#b44">&#34;java.util.logging.config.file&#34;</span>,<span style="color:#bbb"> </span><span style="color:#b44">&#34;/your/path/logging.config&#34;</span>);<span style="color:#bbb"> </span></span></span></code></pre></div>
<p>For details on the configuration file format, please check the <a href="http://docs.oracle.com/javase/7/docs/api/index.html?java/util/logging/LogManager.html">JDK&rsquo;s
LogManager</a>
class. You can also have a look at the <a href="../../editions/jse/logging">Restlet 2.4 logging
documentation</a>.</p>
<h1 id="default-access-log-format">Default access log format</h1>
<p>The default format follows the <a href="http://www.w3.org/TR/WD-logfile.html">W3C Extended Log File
Format</a>
with the following fields used:</p>
<ol>
<li>Date (YYYY-MM-DD)</li>
<li>Time (HH:MM:SS)</li>
<li>Client address (IP)</li>
<li>Remote user identifier (see RFC 1413)</li>
<li>Server address (IP)</li>
<li>Server port</li>
<li>Method (GET, POST&hellip;)</li>
<li>Resource reference path (including the leading slash)</li>
<li>Resource reference query (excluding the leading question mark)</li>
<li>Response status code</li>
<li>Number of bytes sent</li>
<li>Number of bytes received</li>
<li>Time to serve the request (in milliseconds)</li>
<li>Host reference</li>
<li>Client agent name</li>
<li>Referrer reference</li>
</ol>
<p>If you use
<a href="http://www.analog.cx/">Analog</a>
to generate your log reports, and if you use the default log format,
then you can simply specify this string as a value of the LOGFORMAT
command:
(%Y-%m-%d\t%h:%n:%j\t%S\t%u\t%j\t%j\t%j\t%r\t%q\t%c\t%b\t%j\t%T\t%v\t%B\t%f)</p>
<h1 id="how-to-customize-the-access-log-format">How to customize the access log format</h1>
<h2 id="first-method-customize-the-log-format">First method: customize the log format</h2>
<p>You can update the log format by setting the &ldquo;responseLogFormat&rdquo; attribute of the logging service.
This is a simple template which leverages the variables listed here
<a href="https://javadocs.restlet.talend.com/2.4/jse/api/org/restlet/util/Resolver.html#createResolver%28org.restlet.data.Request,%20org.restlet.data.Response%29">Template</a>.</p>
<p>Here is a sample template and a sample log trace.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Component<span style="color:#bbb"> </span>c<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">new</span><span style="color:#bbb"> </span>Component();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>c.<span style="color:#b44">getServers</span>().<span style="color:#b44">add</span>(Protocol.<span style="color:#b44">HTTP</span>,<span style="color:#bbb"> </span>8182);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>c.<span style="color:#b44">getDefaultHost</span>().<span style="color:#b44">attach</span>(<span style="color:#a2f;font-weight:bold">new</span><span style="color:#bbb"> </span>MyApplication());<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>c.<span style="color:#b44">getLogService</span>().<span style="color:#b44">setResponseLogFormat</span>(<span style="color:#b44">&#34;{ciua} {cri} {ra} {m} {rp} {rq} {S} {ES} {es} {hh} {cig} {fi}&#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>c.<span style="color:#b44">start</span>();</span></span></code></pre></div>
<p>This log format displays the following data:</p>
<ol>
<li>Client address (IP)</li>
<li>Remote user identifier (see RFC 1413)</li>
<li>Server address (IP) and port</li>
<li>Method (GET, POST&hellip;)</li>
<li>Resource reference path (including the leading slash)</li>
<li>Resource reference query (excluding the leading question mark)</li>
<li>Response status code</li>
<li>Number of bytes sent</li>
<li>Number of bytes received</li>
<li>Host reference</li>
<li>Client agent name</li>
<li>Referrer reference</li>
</ol>
<p>For example:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>127.0.0.1  localhost:8182 GET /ping  <span style="color:#666">200</span> <span style="color:#666">5</span> <span style="color:#666">0</span> http://localhost:8182 curl/7.35.0 http://test.example.com</span></span></code></pre></div>
<h2 id="second-method-write-the-log-manually">Second method: write the log manually</h2>
<p>As you may have noticed, the log template does not handle data such as the response time, the date of reception of the request.
In this case, you can programmatically write your own log trace.
In order to do so, just inherit from the LogService class and override the <a href="https://javadocs.restlet.talend.com/2.4/jse/api/org/restlet/service/LogService.html#getResponseLogMessage%28org.restlet.Response,%20int%29">getResponseLogMessage(Response, int) method</a>.
The first parameter is the Response object (wich gives your access to the Request object), and the duration of the call.</p>

      </div>
    </div>
  </div>
</div>

  </div>
</main>
    <footer>
  <div class="m-footer skew-top-black">
    <div class="container">
      <div class="row eq-height">
        <div class="col-sm-2">
          <h4>Features</h4>
          <ul>
            <li><a href="/features">Features</a></li>
          </ul>
        </div>
        <div class="col-sm-2">
          <h4>Downloads</h4>
          <ul>
            <li><a href="/downloads/current/">Current Release</a></li>
            <li><a href="/downloads/past/">Other Releases</a></li>
            <li><a href="/downloads/legal-terms/">Legal Terms</a></li>
            <li><a href="/downloads/faq/">FAQ</a></li>
          </ul>
        </div>
        <div class="col-sm-2">
          <h4>Documentation</h4>
          <ul>
            <li><a href="/documentation/user-guide/2.5/">User guide</a></li>
            <li><a href="/documentation/tutorials/2.5/">Tutorials</a></li>
            <li><a href="/documentation/javadocs/2.5/">Javadocs</a></li>
            <li><a href="/documentation/2.5/changelog">Changelog</a></li>
          </ul>
        </div>
      </div>
      <div class="row copyright">
        <div class="col-xs-12 col-md-8">
          <ul class="list-inline">
            <li>&copy; 2025 Qlik All rights reserved.</li>
          </ul>
        </div>
      </div>

    </div>
  </div>

</footer>

    <script type="text/javascript" src="/js/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="/js/modernizr-2.8.3.min.js"></script>
<script type="text/javascript" src="/js/jquery.dlmenu.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>
<script type="text/javascript" src="/js/init.js"></script>
<script type="text/javascript" src="/js/prism.js" data-default-language="markup"></script>
<script type="text/javascript" src="/js/app.js"></script>
<script type="text/javascript" src="/js/downloads.js"></script>


</body>
</html>
