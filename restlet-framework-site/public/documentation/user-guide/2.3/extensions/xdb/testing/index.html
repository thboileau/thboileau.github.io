<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<link rel="apple-touch-icon" href="apple-touch-icon.png">
<link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico">
<title>Restlet framework | Testing</title>

  
  
    
      <link rel="stylesheet" href="/css/app.min.css">
    
  



<link rel="stylesheet" type="text/css" href="/css/vendor/magnific-popup.css">

<link rel="stylesheet" href="/css/custom.css" />
<link rel="stylesheet" href="/css/app.min.css">
<link rel="stylesheet" href="/css/vendor/prism.css" />
<link rel="stylesheet" href="/css/vendor/component.css" />


      <script src="/js/main.js"></script>


</head>
<body class="static-nav documentation">

  <nav class="m-navigation m-navigation-site m-navigation-fixed" role="navigation">
  <div class="container-fluid">
    <div class="navigation-group">
      <a class="navigation-logo" href="/"><img src="/images/navbarTop.svg"></a>
      <span id="j-navigation-trigger" class="navigation-trigger"></span>
      <ul class="navigation-list navigation-list-right">
        <li class=""><a class="navigation__link" href="/features">Features</a></li>
        <li class="">
          <a class="navigation__link" href="/downloads/current">Download</a>
        </li>
        <li class="">
            <a class="navigation__link" href="/documentation/tutorials/2.5/">Documentation</a></li>
      </ul>
    </div>
  </div>
</nav>


<main id="main" role="main">
  <div class="documentation-wrapper">
<div class="sidebar-wrapper hidden-xs hidden-sm">
  <aside class="section-bg-mako text-white">
    <nav class="documentation-sidebar" aria-label="Documentation navigation" role="navigation">
      <ul id="accordion" class="nav documentation-nav">
        <li>
          <a href="#submenu-1" class="accordion-toggle toggle-switch"><img src="/images/restlet_white_32.svg">Framework</a>
          <ul id="submenu-1" class="nav panel-switch" role="menu">
            <li>
              <a href="#subsubmenu-1" class="accordion-toggle toggle-switch">User guide</a>
              <ul id="subsubmenu-1" class="nav panel-switch lowest-lewel" role="menu">
                <li><a href="/documentation/user-guide/2.3/introduction/overview" >Part 1 - Introduction</a></li>
                <li><a href="/documentation/user-guide/2.3/core/overview" >Part 2 - Core Restlet</a></li>
                <li><a href="/documentation/user-guide/2.3/editions/overview" >Part 3 - Restlet Editions</a></li>
                <li><a href="/documentation/user-guide/2.3/extensions/overview" class="active" >Part 4 - Restlet Extensions</a></li>
                <li><a href="/documentation/user-guide/2.3/appendices/glossary">Appendices</a></li>
              </ul>
            </li>
            <li><a href="/documentation/tutorials/2.3/overview" >Tutorials</a></li>
            <li><a href="/documentation/javadocs/2.3/" >Javadocs</a></li>
            <li><a target="_blank" href="/documentation/2.3/changelog">Change Log</a></li>
          </ul>
        </li>
      </ul>
    </nav>
  </aside>

</div>

<div class="content-wrapper section-bg-white">
  <div class="row hidden-xs hidden-sm">
  <div class="col-md-12">
    <div class="h-cta h-cta--large section-bg-grey">
      <img class="large" src="/images/restlet-framework-dark.svg" alt="Restlet Framework">
      <a href="/downloads/current" class="m-button m-button-flat-green pull-right">Install Framework</a>
    </div>
  </div>
</div>

  <div class="mobile-nav hidden-md hidden-lg">
  <div class="dl-menu-container in-content">
    <div id="dl-menu" class="dl-menuwrapper">
      <button class="dl-trigger">Open Menu</button>
      <ul class="dl-menu">
        <li class="">
          <a href="#">User guide</a>
          <ul class="dl-submenu">
            <li>mobile-nav</li>


      </ul>
    </div>
  </div>
</div>


  <div class="row">
    <div class="col-md-3">
      
<nav class="inner-nav hidden-xs hidden-sm">
  <ul class="content-nav">
    
<nav class="inner-nav hidden-xs hidden-sm">
  <ul class="content-nav">
    <li>
      <a href="/documentation/user-guide/2.4/introduction/overview/">Overview</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/features/">Features</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/">What&#39;s new</a>
        <ul>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.4/">In version 2.4</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.3/">In version 2.3</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.2/">In version 2.2</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.1/">In version 2.1</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.0/">2</a>
        <ul>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.0/api/">API improvements</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.0/engine/">Engine</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.0/extensions/">Extensions</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.0/editions/">Editions</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.0/misc/">Misc</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.0/migration/">Migration</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
  </ul>
</nav>

  </ul>
</nav>

    </div>
    <div class="col-md-9">
      <div class="documentation-content">
        

        <h1>Oracle XDB Restlet Adapter - Testing</h1>
        <ul>
<li>Testing using a browser</li>
</ul>
<p>Test your <strong>REST</strong> examples with your favorite browser using these URLs (they where configured as <strong>XMLDB</strong> Servlets by src/com.noelios.restlet.ext.xdb_11.1/resources/sql/postInstall.sql script):</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>http://localhost:8080/searchapp/search?kwd<span style="color:#666">=</span>marcelo+ochoa
</span></span><span style="display:flex;"><span>http://localhost:8080/userapp/users/scott/orders/300</span></span></code></pre></div>
<p>Note: XMLDB is an HTTP 1.0 complaint connector, usually modern browsers try to connect using HTTP 1.1 so you can experiment that the browser leave the connection open because is trying to use Keep-alive feature.</p>
<ul>
<li>Tests using telnet</li>
</ul>
<p>Some test can be done by using telnet application to see which headers are sent and got as response from <strong>REST WS</strong>. For example:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#666">[</span>mochoa@mochoa resources<span style="color:#666">]</span>$ telnet localhost <span style="color:#666">8080</span>
</span></span><span style="display:flex;"><span>Trying 127.0.0.1...
</span></span><span style="display:flex;"><span>Connected to live.dbprism.mochoa.dyndns.org <span style="color:#666">(</span>127.0.0.1<span style="color:#666">)</span>.
</span></span><span style="display:flex;"><span>Escape character is <span style="color:#b44">&#39;^]&#39;</span>.
</span></span><span style="display:flex;"><span>GET /userapp/users/scott/orders/300 HTTP/1.0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>HTTP/1.1 <span style="color:#666">200</span> OK
</span></span><span style="display:flex;"><span>MS-Author-Via: DAV
</span></span><span style="display:flex;"><span>DAV: 1,2,&amp;lt;http://www.oracle.com/xdb/webdav/props&amp;gt;
</span></span><span style="display:flex;"><span>Date: Tue, <span style="color:#666">03</span> Jun <span style="color:#666">2008</span> 19:18:11 GMT
</span></span><span style="display:flex;"><span>Server: Noelios-Restlet-Engine/1.1.snapshot
</span></span><span style="display:flex;"><span>Content-Type: text/plain; <span style="color:#b8860b">charset</span><span style="color:#666">=</span>ISO-8859-1
</span></span><span style="display:flex;"><span>Vary: Accept-Charset, Accept-Encoding, Accept-Language, Accept
</span></span><span style="display:flex;"><span>Content-Length: <span style="color:#666">28</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>__Order <span style="color:#b44">&#34;300&#34;</span> <span style="color:#a2f;font-weight:bold">for</span> user <span style="color:#b44">&#34;scott&#34;</span>__</span></span></code></pre></div>
<ul>
<li>Minimalistic test comparing REST versus native SOAP</li>
</ul>
<p>** Benchmarking REST application</p>
<p>As you can see in a previous section there is simple User application which returns orders for <strong>scott</strong> user. Using <strong>ApacheBench</strong> you can test the application executing:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ab -n <span style="color:#666">{</span>total_request<span style="color:#666">}</span> -c <span style="color:#666">{</span>concurrent_request<span style="color:#666">}</span> http://localhost:8080/userapp/users/scott/orders/300</span></span></code></pre></div>
<p>Where <strong>total_request</strong> is number of request sent by Apache benchmark paralleling it in <strong>concurrent_request</strong> request.
A result of this execution on my notebook can be compared in <a href="http://spreadsheets.google.com/pub?key=pAl-EJ5Wtb_10aTyfnO1dUw">this Google sheet</a>.</p>
<p>** Testing a similar <strong>WS</strong> implemented using SOAP</p>
<p>A similar functionality can be implemented using <strong><a href="http://download.oracle.com/docs/cd/B28359_01/appdev.111/b28369/xdb_web_services.htm#CHDDBCHB">XMLDB Native SOAP WS</a></strong>.
For doing that create this Java source at Scott&rsquo;s schema:</p>
<p>create or replace and compile java source named &ldquo;my.OrderCalculator&rdquo; as
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">package</span><span style="color:#bbb"> </span><span style="color:#00f;font-weight:bold">my</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#a2f;font-weight:bold">import</span><span style="color:#bbb"> </span><span style="color:#00f;font-weight:bold">java.util.logging.Level</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#a2f;font-weight:bold">import</span><span style="color:#bbb"> </span><span style="color:#00f;font-weight:bold">java.util.logging.Logger</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">class</span> <span style="color:#00f">OrderCalculator</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#080;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">     * Java Util Logging variables and default values
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">     */</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#a2f;font-weight:bold">private</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">static</span><span style="color:#bbb"> </span>Logger<span style="color:#bbb"> </span>logger<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">null</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#080;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">     * Constant used to get Logger name
</span></span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic">     */</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#a2f;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">final</span><span style="color:#bbb"> </span>String<span style="color:#bbb"> </span>CLASS_NAME<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span>OrderCalculator.<span style="color:#b44">class</span>.<span style="color:#b44">getName</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#a2f;font-weight:bold">static</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>logger<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span>Logger.<span style="color:#b44">getLogger</span>(CLASS_NAME);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>logger.<span style="color:#b44">setLevel</span>(Level.<span style="color:#b44">ALL</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">   </span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">static</span><span style="color:#bbb"> </span>String<span style="color:#bbb"> </span><span style="color:#00a000">getOrder</span>(String<span style="color:#bbb"> </span>userName,<span style="color:#bbb"> </span><span style="color:#0b0;font-weight:bold">int</span><span style="color:#bbb"> </span>orderId)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>logger.<span style="color:#b44">entering</span>(CLASS_NAME,<span style="color:#b44">&#34;getOrder&#34;</span>,<span style="color:#a2f;font-weight:bold">new</span><span style="color:#bbb"> </span>Object<span style="color:#bbb"> </span><span style="color:#666">[]</span><span style="color:#bbb"> </span>{userName,<span style="color:#a2f;font-weight:bold">new</span><span style="color:#bbb"> </span>Integer(orderId)});<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>logger.<span style="color:#b44">exiting</span>(CLASS_NAME,<span style="color:#b44">&#34;getOrder&#34;</span>,<span style="color:#b44">&#34;Order &#39;&#34;</span><span style="color:#666">+</span>orderId<span style="color:#666">+</span><span style="color:#b44">&#34;&#39; for user &#39;&#34;</span><span style="color:#666">+</span>userName<span style="color:#666">+</span><span style="color:#b44">&#34;&#39;&#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#a2f;font-weight:bold">return</span><span style="color:#bbb"> </span><span style="color:#b44">&#34;Order &#39;&#34;</span><span style="color:#666">+</span>orderId<span style="color:#666">+</span><span style="color:#b44">&#34;&#39; for user &#39;&#34;</span><span style="color:#666">+</span>userName<span style="color:#666">+</span><span style="color:#b44">&#34;&#39;&#34;</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">   </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}</span></span></code></pre></div></p>
<p>Note that I have added JDK Logging functionality to compare a closer example to Restlet functionality, obviously routing and many other default Restlet functionalities are not compared with this example.
And his <strong>PLSQL</strong> Call Spec:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">CREATE</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">OR</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">REPLACE</span><span style="color:#bbb"> </span>PACKAGE<span style="color:#bbb"> </span>orders_calculator<span style="color:#bbb"> </span>AUTHID<span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">CURRENT_USER</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">AS</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#a2f;font-weight:bold">FUNCTION</span><span style="color:#bbb"> </span>getOrder(user_name<span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">IN</span><span style="color:#bbb"> </span>VARCHAR2,<span style="color:#bbb"> </span>order_id<span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">IN</span><span style="color:#bbb"> </span><span style="color:#a2f">NUMBER</span>)<span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">RETURN</span><span style="color:#bbb"> </span>VARCHAR2<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#a2f;font-weight:bold">as</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">LANGUAGE</span><span style="color:#bbb"> </span>JAVA<span style="color:#bbb"> </span>NAME<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">     </span><span style="color:#b44">&#39;my.OrderCalculator.getOrder(java.lang.String, int) return
</span></span></span><span style="display:flex;"><span><span style="color:#b44">java.lang.String&#39;</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#a2f;font-weight:bold">END</span><span style="color:#bbb"> </span>orders_calculator;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#666">/</span></span></span></code></pre></div>
<p>As you can see OrderCalculator class is using JDK logging package, to get JDK logging working this grant is required:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">SQL</span><span style="color:#666">&amp;</span>gt;<span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">exec</span><span style="color:#bbb"> </span>dbms_java.grant_permission(<span style="color:#bbb"> </span><span style="color:#b44">&#39;SCOTT&#39;</span>,<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#b44">&#39;SYS:java.util.logging.LoggingPermission&#39;</span>,<span style="color:#bbb"> </span><span style="color:#b44">&#39;control&#39;</span>,<span style="color:#bbb"> </span><span style="color:#b44">&#39;&#39;</span><span style="color:#bbb"> </span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#a2f;font-weight:bold">SQL</span><span style="color:#666">&amp;</span>gt;<span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">commit</span>;</span></span></code></pre></div>
<p>Finally to send a POST message using Apache benchmark its necessary to edit a POST XML message like:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;env:Envelope</span> <span style="color:#b44">xmlns:env=</span><span style="color:#b44">&#34;http://schemas.xmlsoap.org/soap/envelope/&#34;</span> <span style="color:#b44">xmlns:ns1=</span><span style="color:#b44">&#34;http://xmlns.oracle.com/orawsv/SCOTT/ORDERS_CALCULATOR/GETORDER&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>   <span style="color:#008000;font-weight:bold">&lt;env:Header/&gt;</span>
</span></span><span style="display:flex;"><span>   <span style="color:#008000;font-weight:bold">&lt;env:Body&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;ns1:SVARCHAR2-GETORDERInput&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;ns1:USER_NAME-VARCHAR2-IN&gt;</span>scott<span style="color:#008000;font-weight:bold">&lt;/ns1:USER_NAME-VARCHAR2-IN&gt;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#008000;font-weight:bold">&lt;ns1:ORDER_ID-NUMBER-IN&gt;</span>300<span style="color:#008000;font-weight:bold">&lt;/ns1:ORDER_ID-NUMBER-IN&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;/ns1:SVARCHAR2-GETORDERInput&gt;</span>
</span></span><span style="display:flex;"><span>   <span style="color:#008000;font-weight:bold">&lt;/env:Body&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/env:Envelope&gt;</span></span></span></code></pre></div>
<p>The ApacheBench command line will look like:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ab -A scott:tiger -H <span style="color:#b44">&#39;SOAPAction: &#34;GETORDER&#34;&#39;</span> -p /tmp/soap-post-func.txt -n <span style="color:#666">{</span>total_request<span style="color:#666">}</span> -c <span style="color:#666">{</span>concurrent_request<span style="color:#666">}</span> http://localhost:8080/orawsv/SCOTT/ORDERS_CALCULATOR/GETORDER</span></span></code></pre></div>
<p>Where:</p>
<ul>
<li>-A scott:tiger is the HTTP authorization information (XMLDB Native WS do not accept anonymous login)</li>
<li>-H &lsquo;SOAPAction: &ldquo;GETORDER&rdquo; is a required HTTP header for SOAP</li>
<li>-p /tmp/soap-post-func.txt is file which have the POST XML message shown above</li>
<li>and the URL is a default URL used to execute Native SOAP WS in XMLDB</li>
</ul>
<p>Do not forget grant XDB_WEBSERVICES and XDB_WEBSERVICES_OVER_HTTP roles to SCOTT, also register the <strong>orawsv</strong> Servlet.</p>
<p>** Testing with Apache mod_mem_cache.</p>
<p>One of the most important consequence of REST architecture is that is on top on HTTP protocol, so why not include for example reverse proxy in front of Oracle XMLDB Restlet adapter. On Linux you can try this configuration:
Add this to <strong>/etc/httpd/modules.d/57_mod_mem_cache.conf</strong> file:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>.....
</span></span><span style="display:flex;"><span>&amp;lt;IfModule mod_cache.c&amp;gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#080;font-style:italic"># CacheEnable - A cache type and partial URL prefix below which caching is enabled</span>
</span></span><span style="display:flex;"><span>    <span style="color:#080;font-style:italic">#CacheEnable mem /manual</span>
</span></span><span style="display:flex;"><span>    <span style="color:#080;font-style:italic">#CacheEnable fd /images</span>
</span></span><span style="display:flex;"><span>    CacheEnable mem /userapp
</span></span><span style="display:flex;"><span>    CacheEnable mem /orawsv
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&amp;lt;/IfModule&amp;gt;
</span></span><span style="display:flex;"><span>....</span></span></code></pre></div>
<p>This will enable mod_mem_cache to any URL starting with /userapp/ directory, this directory will be retrieved using Apache mod_proxy.
Edit <strong>/etc/httpd/modules.d/30_mod_proxy.conf</strong> adding these lines:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>&amp;lt;IfModule mod_proxy.c&amp;gt;
</span></span><span style="display:flex;"><span>....
</span></span><span style="display:flex;"><span>    SetEnv proxy-nokeepalive <span style="color:#666">1</span>
</span></span><span style="display:flex;"><span>....
</span></span><span style="display:flex;"><span>    ProxyPass /userapp/ http://localhost:8080/userapp/
</span></span><span style="display:flex;"><span>    ProxyPassReverse /userapp/ http://localhost:8080/userapp/
</span></span><span style="display:flex;"><span>    ProxyPass /orawsv/ http://localhost:8080/orawsv/
</span></span><span style="display:flex;"><span>    ProxyPassReverse /orawsv/ http://localhost:8080/orawsv/
</span></span><span style="display:flex;"><span>....
</span></span><span style="display:flex;"><span>&amp;lt;/IfModule&amp;gt;</span></span></code></pre></div>
<p>This will redirect automatically any <strong>URL</strong> <strong>http://localhost:80/userapp/</strong> to <strong>XMLDB</strong> <strong>http://localhost:8080/userapp/</strong>.
Finally start <strong>Apache Web Server</strong> and test the <strong>URL</strong> <strong>http://localhost/userapp/users/scott/orders/300</strong> note now we are using port 80, not port 8080.
To boost your <strong>REST WS</strong> performance you can change, for example, the expiration header of the response, many <strong>WS</strong> can use this trick a typically example is a weather service which is updated every 30 minutes. In our User application this change can be injected at <strong>org.restlet.example.tutorial.OrderResource</strong> class method <strong>represent</strong>, for example:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#a2f">@Override</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#a2f;font-weight:bold">public</span><span style="color:#bbb"> </span>Representation<span style="color:#bbb"> </span><span style="color:#00a000">represent</span>(Variant<span style="color:#bbb"> </span>variant)<span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">throws</span><span style="color:#bbb"> </span>ResourceException<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>Representation<span style="color:#bbb"> </span>result<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">null</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#a2f;font-weight:bold">if</span><span style="color:#bbb"> </span>(variant.<span style="color:#b44">getMediaType</span>().<span style="color:#b44">equals</span>(MediaType.<span style="color:#b44">TEXT_PLAIN</span>))<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>result<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">new</span><span style="color:#bbb"> </span>StringRepresentation(<span style="color:#b44">&#34;Order \&#34;&#34;</span><span style="color:#bbb"> </span><span style="color:#666">+</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">this</span>.<span style="color:#b44">orderId</span><span style="color:#bbb">  </span><span style="color:#666">+</span><span style="color:#bbb"> </span><span style="color:#b44">&#34;\&#34; for user \&#34;&#34;</span><span style="color:#bbb"> </span><span style="color:#666">+</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">this</span>.<span style="color:#b44">userName</span><span style="color:#bbb"> </span><span style="color:#666">+</span><span style="color:#bbb"> </span><span style="color:#b44">&#34;\&#34;&#34;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">       </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>Date<span style="color:#bbb"> </span>expirationDate<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">new</span><span style="color:#bbb"> </span>Date(System.<span style="color:#b44">currentTimeMillis</span>()<span style="color:#666">+</span>10000);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>result.<span style="color:#b44">setExpirationDate</span>(expirationDate);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#a2f;font-weight:bold">return</span><span style="color:#bbb"> </span>result;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}</span></span></code></pre></div>
<p>This small change represent for 100 request in User application a difference between:
<code>Requests per second:    __49.65__ [#/sec] (mean)</code> to <code>Requests per second:    __1407.90__ [#/sec] (mean)</code> and <strong>1</strong> request to <strong>XMLDB</strong> instead of <strong>100</strong> request, reducing a lot a server workload.
There is no change with our <strong>SOAP WS</strong> because <strong>POST</strong> messages are not cached by <strong>mod_mem_cache</strong> reverse proxy.</p>
<p>*** Testing performance with Apache JMeter</p>
<p><strong>XMLDB Restlet Adapter</strong> can be tested with <strong>Apache JMeter</strong>, here some captures with the above <strong>REST</strong> and <strong>SOAP WS</strong>.
Test plan used with Users Restlet example:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>Thread Group -&gt; Thread Properties
</span></span><span style="display:flex;"><span>Number of Threads <span style="color:#666">(</span>users<span style="color:#666">)</span>: <span style="color:#666">10</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Ramp Up Period <span style="color:#666">(</span>in seconds<span style="color:#666">)</span>: <span style="color:#666">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Loop Count: <span style="color:#666">200</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>HTTP Request -&amp;gt; Web Server
</span></span><span style="display:flex;"><span>Server Name or IP: localhost
</span></span><span style="display:flex;"><span>HTTP Request -&amp;gt; HTTP Request
</span></span><span style="display:flex;"><span>Protocol: http
</span></span><span style="display:flex;"><span>Method: GET
</span></span><span style="display:flex;"><span>Path: /userapp/users/scott/orders/300
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Gaussian Random Timer -&amp;gt; Thread Delay Properties
</span></span><span style="display:flex;"><span>Deviation <span style="color:#666">(</span>in milliseconds<span style="color:#666">)</span>: 100.0
</span></span><span style="display:flex;"><span>Constant Delay Offset <span style="color:#666">(</span>in milliseconds<span style="color:#666">)</span>: <span style="color:#666">300</span></span></span></code></pre></div>
<p>Test plan used with Users SOAP example:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>Number of Threads <span style="color:#666">(</span>users<span style="color:#666">)</span>: <span style="color:#666">10</span>
</span></span><span style="display:flex;"><span>Ramp Up Period <span style="color:#666">(</span>in seconds<span style="color:#666">)</span>: <span style="color:#666">0</span>
</span></span><span style="display:flex;"><span>Loop Count: <span style="color:#666">200</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>SOAP/XML-RPC Request -&amp;gt; Web Server
</span></span><span style="display:flex;"><span>Server Name or IP: localhost
</span></span><span style="display:flex;"><span>HTTP Request -&amp;gt; HTTP Request
</span></span><span style="display:flex;"><span>URL: http://localhost:8080/orawsv/SCOTT/ORDERS_CALCULATOR/GETORDER
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Send SOAPAction: GETORDER
</span></span><span style="display:flex;"><span>User KeepAlive: <span style="color:#a2f">true</span>
</span></span><span style="display:flex;"><span>SOAP/XML-RPC Data Filename: /tmp/soap-post-func.txt
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>HTTP Header Manager -&amp;gt; Headers Stored in the Header Manager
</span></span><span style="display:flex;"><span>Authorization: Basic <span style="color:#b8860b">c2NvdHQ6dGlnZXI</span><span style="color:#666">=</span>    <span style="color:#666">(</span>Base <span style="color:#666">64</span> encoding of scott/tiger<span style="color:#666">)</span>
</span></span><span style="display:flex;"><span>Gaussian Random Timer -&amp;gt; Thread Delay Properties
</span></span><span style="display:flex;"><span>Deviation <span style="color:#666">(</span>in milliseconds<span style="color:#666">)</span>: 100.0
</span></span><span style="display:flex;"><span>Constant Delay Offset <span style="color:#666">(</span>in milliseconds<span style="color:#666">)</span>: <span style="color:#666">300</span>
</span></span><span style="display:flex;"><span>/tmp/soap-post-func.txt file content:</span></span></code></pre></div>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#080">&lt;?xml version = &#39;1.0&#39;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;env:Envelope</span> <span style="color:#b44">xmlns:env=</span><span style="color:#b44">&#34;http://schemas.xmlsoap.org/soap/envelope/&#34;</span> <span style="color:#b44">xmlns:ns1=</span><span style="color:#b44">&#34;http://xmlns.oracle.com/orawsv/SCOTT/ORDERS_CALCULATOR/GETORDER&#34;</span><span style="color:#008000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   <span style="color:#008000;font-weight:bold">&lt;env:Header/&gt;</span>
</span></span><span style="display:flex;"><span>   <span style="color:#008000;font-weight:bold">&lt;env:Body&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;ns1:SVARCHAR2-GETORDERInput&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;ns1:USER_NAME-VARCHAR2-IN&gt;</span>scott<span style="color:#008000;font-weight:bold">&lt;/ns1:USER_NAME-VARCHAR2-IN&gt;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#008000;font-weight:bold">&lt;ns1:ORDER_ID-NUMBER-IN&gt;</span>300<span style="color:#008000;font-weight:bold">&lt;/ns1:ORDER_ID-NUMBER-IN&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&lt;/ns1:SVARCHAR2-GETORDERInput&gt;</span>
</span></span><span style="display:flex;"><span>   <span style="color:#008000;font-weight:bold">&lt;/env:Body&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#008000;font-weight:bold">&lt;/env:Envelope&gt;</span></span></span></code></pre></div>

      </div>
    </div>
  </div>
</div>

  </div>
</main>
    <footer>
  <div class="m-footer skew-top-black">
    <div class="container">
      <div class="row eq-height">
        <div class="col-sm-2">
          <h4>Features</h4>
          <ul>
            <li><a href="/features">Features</a></li>
          </ul>
        </div>
        <div class="col-sm-2">
          <h4>Downloads</h4>
          <ul>
            <li><a href="/downloads/current/">Current Release</a></li>
            <li><a href="/downloads/past/">Other Releases</a></li>
            <li><a href="/downloads/legal-terms/">Legal Terms</a></li>
            <li><a href="/downloads/faq/">FAQ</a></li>
          </ul>
        </div>
        <div class="col-sm-2">
          <h4>Documentation</h4>
          <ul>
            <li><a href="/documentation/user-guide/2.5/">User guide</a></li>
            <li><a href="/documentation/tutorials/2.5/">Tutorials</a></li>
            <li><a href="/documentation/javadocs/2.5/">Javadocs</a></li>
            <li><a href="/documentation/2.5/changelog">Changelog</a></li>
          </ul>
        </div>
      </div>
      <div class="row copyright">
        <div class="col-xs-12 col-md-8">
          <ul class="list-inline">
            <li>&copy; 2025 Qlik All rights reserved.</li>
          </ul>
        </div>
      </div>

    </div>
  </div>

</footer>

    <script type="text/javascript" src="/js/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="/js/modernizr-2.8.3.min.js"></script>
<script type="text/javascript" src="/js/jquery.dlmenu.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>
<script type="text/javascript" src="/js/init.js"></script>
<script type="text/javascript" src="/js/prism.js" data-default-language="markup"></script>
<script type="text/javascript" src="/js/app.js"></script>
<script type="text/javascript" src="/js/downloads.js"></script>


</body>
</html>
