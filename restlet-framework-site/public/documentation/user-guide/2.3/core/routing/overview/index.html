<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<link rel="apple-touch-icon" href="apple-touch-icon.png">
<link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico">
<title>Restlet framework | Overview</title>

  
  
    
      <link rel="stylesheet" href="/css/app.min.css">
    
  



<link rel="stylesheet" type="text/css" href="/css/vendor/magnific-popup.css">

<link rel="stylesheet" href="/css/custom.css" />
<link rel="stylesheet" href="/css/app.min.css">
<link rel="stylesheet" href="/css/vendor/prism.css" />
<link rel="stylesheet" href="/css/vendor/component.css" />


      <script src="/js/main.js"></script>


</head>
<body class="static-nav documentation">

  <nav class="m-navigation m-navigation-site m-navigation-fixed" role="navigation">
  <div class="container-fluid">
    <div class="navigation-group">
      <a class="navigation-logo" href="/"><img src="/images/navbarTop.svg"></a>
      <span id="j-navigation-trigger" class="navigation-trigger"></span>
      <ul class="navigation-list navigation-list-right">
        <li class=""><a class="navigation__link" href="/features">Features</a></li>
        <li class="">
          <a class="navigation__link" href="/downloads/current">Download</a>
        </li>
        <li class="">
            <a class="navigation__link" href="/documentation/tutorials/2.5/">Documentation</a></li>
      </ul>
    </div>
  </div>
</nav>


<main id="main" role="main">
  <div class="documentation-wrapper">
<div class="sidebar-wrapper hidden-xs hidden-sm">
  <aside class="section-bg-mako text-white">
    <nav class="documentation-sidebar" aria-label="Documentation navigation" role="navigation">
      <ul id="accordion" class="nav documentation-nav">
        <li>
          <a href="#submenu-1" class="accordion-toggle toggle-switch"><img src="/images/restlet_white_32.svg">Framework</a>
          <ul id="submenu-1" class="nav panel-switch" role="menu">
            <li>
              <a href="#subsubmenu-1" class="accordion-toggle toggle-switch">User guide</a>
              <ul id="subsubmenu-1" class="nav panel-switch lowest-lewel" role="menu">
                <li><a href="/documentation/user-guide/2.3/introduction/overview" >Part 1 - Introduction</a></li>
                <li><a href="/documentation/user-guide/2.3/core/overview" class="active" >Part 2 - Core Restlet</a></li>
                <li><a href="/documentation/user-guide/2.3/editions/overview" >Part 3 - Restlet Editions</a></li>
                <li><a href="/documentation/user-guide/2.3/extensions/overview" >Part 4 - Restlet Extensions</a></li>
                <li><a href="/documentation/user-guide/2.3/appendices/glossary">Appendices</a></li>
              </ul>
            </li>
            <li><a href="/documentation/tutorials/2.3/overview" >Tutorials</a></li>
            <li><a href="/documentation/javadocs/2.3/" >Javadocs</a></li>
            <li><a target="_blank" href="/documentation/2.3/changelog">Change Log</a></li>
          </ul>
        </li>
      </ul>
    </nav>
  </aside>

</div>

<div class="content-wrapper section-bg-white">
  <div class="row hidden-xs hidden-sm">
  <div class="col-md-12">
    <div class="h-cta h-cta--large section-bg-grey">
      <img class="large" src="/images/restlet-framework-dark.svg" alt="Restlet Framework">
      <a href="/downloads/current" class="m-button m-button-flat-green pull-right">Install Framework</a>
    </div>
  </div>
</div>

  <div class="mobile-nav hidden-md hidden-lg">
  <div class="dl-menu-container in-content">
    <div id="dl-menu" class="dl-menuwrapper">
      <button class="dl-trigger">Open Menu</button>
      <ul class="dl-menu">
        <li class="">
          <a href="#">User guide</a>
          <ul class="dl-submenu">
            <li>mobile-nav</li>


      </ul>
    </div>
  </div>
</div>


  <div class="row">
    <div class="col-md-3">
      
<nav class="inner-nav hidden-xs hidden-sm">
  <ul class="content-nav">
    
<nav class="inner-nav hidden-xs hidden-sm">
  <ul class="content-nav">
    <li>
      <a href="/documentation/user-guide/2.4/introduction/overview/">Overview</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/features/">Features</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/">What&#39;s new</a>
        <ul>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.4/">In version 2.4</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.3/">In version 2.3</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.2/">In version 2.2</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.1/">In version 2.1</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.0/">2</a>
        <ul>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.0/api/">API improvements</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.0/engine/">Engine</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.0/extensions/">Extensions</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.0/editions/">Editions</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.0/misc/">Misc</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.0/migration/">Migration</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
  </ul>
</nav>

  </ul>
</nav>

    </div>
    <div class="col-md-9">
      <div class="documentation-content">
        

        <h1>Overview</h1>
        <h1 id="introduction">Introduction</h1>
<p>The <strong>org.restlet.routing</strong> package contains classes related to call
routing.</p>
<p>Another advantage of the Restlet Framework is the built-in support for
<a href="http://www.w3.org/Provider/Style/URI">cool URIs</a>.
A good description of the importance of proper URI design is given by
Jacob Nielsen in his
<a href="http://www.useit.com/alertbox/990321.html">AlertBox</a>.
This document aims at showing the several configuration options of the
routing process. From a high level point of view, routing is mainly
based on the Router, Route, Template and Variable classes.</p>
<p>A Router is a Restlet that helps to associate a URI to the Restlet or
the Resource that will handle all requests made to this URI.<br>
The association of a URI and the target Restlet or Resource is
personified by an instance of the Route class. In general, people wants
to express generic associations such as: all URIs
&ldquo;/my/base/uri/{variable part}&rdquo; target this Restlet or Resource. Hence,
the Restlet framework allows to define routes based on the <a href="http://code.google.com/p/uri-templates/">URI template
specification</a>.</p>
<p>URI Templates allows to defines pattern of URIs that contain embedded
variables. These concepts have been formalised in the Restlet famework
under the form of Template and Variable classes.</p>
<p>Here is a sample code illustrating the default usage of a Router:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#080;font-style:italic">// Create a router Restlet that defines routes.</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>Router<span style="color:#bbb"> </span>router<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">new</span><span style="color:#bbb"> </span>Router(getContext());<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#080;font-style:italic">// Defines a route for the resource &#34;list of items&#34;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>router.<span style="color:#b44">attach</span>(<span style="color:#b44">&#34;/items&#34;</span>,<span style="color:#bbb"> </span>ItemsResource.<span style="color:#b44">class</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#080;font-style:italic">// Defines a route for the resource &#34;item&#34;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>router.<span style="color:#b44">attach</span>(<span style="color:#b44">&#34;/items/{itemName}&#34;</span>,<span style="color:#bbb"> </span>ItemResource.<span style="color:#b44">class</span>);</span></span></code></pre></div>
<p>It declares two routes, the first one associates the URI &ldquo;/items&rdquo; to the
Resource &ldquo;ItemsResource&rdquo; and the second one &ldquo;/items/itemName&rdquo; to the
Resource &ldquo;ItemResource&rdquo;. The latter defines a variable called &ldquo;itemName&rdquo;
which can be retrieved by the Resource.</p>
<p>Please note that a route attaches instances of a Restlet subclass
whereas resources are attached via their class. The reason is that
Resources have been designed to handle a single request, thus instances
are generated at run-time via their class.</p>
<h1 id="default-configuration">Default configuration</h1>
<p>This chapter covers either the default behavior of instances of the
Router, Route, Template and Variable classes or the behavior that
applies by default during the process of routing a URI.</p>
<h2 id="matching-mode">Matching mode</h2>
<p>The default behavior of a Router is to match the whole request URI
(actually the remaining part, left by previous Routers) with the
attached URI patterns. If the request URI indeed is equal to one of the
URI patterns, the target Resource or Restlet is invoked. The way the
matching is done by default is based on the Template#MODE_EQUALS
constant, meaning that the URI template must exactly match the remaining
part. This is a strict mode that forbids subsequent routing.</p>
<p>This default routing mode can be changed by calling the
Router#setDefaultMatchingMode() method with the
Template#MODE_STARTS_WITH constant meaning that if the URI template
associated to the route matches the start of the target resource URI,
then it is accepted. This is a flexible mode that allows a hierarchy of
routers to be used.</p>
<p>Here is a sample code:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>router.<span style="color:#b44">setMatchingMode</span>(Template.<span style="color:#b44">MODE_STARTS_WITH</span>);</span></span></code></pre></div>
<h2 id="routing-and-queries">Routing and queries</h2>
<p>With the default matching mode to Template#MODE_EQUALS, your Router
won&rsquo;t accept URI with query strings going to this Resource. To solve
this, you can either indicate at the router level, that the matching
process does not take into account the query part of the reference:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>router.<span style="color:#b44">setDefaultMatchQuery</span>(<span style="color:#a2f;font-weight:bold">false</span>);</span></span></code></pre></div>
<p>Or you can explicitly allow the query part in your URI template:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>TemplateRoute<span style="color:#bbb"> </span>route<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span>router.<span style="color:#b44">attach</span>(<span style="color:#b44">&#34;/users/{user}?{query}&#34;</span>,<span style="color:#bbb"> </span>UserResource.<span style="color:#b44">class</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>route.<span style="color:#b44">setMatchingQuery</span>(<span style="color:#a2f;font-weight:bold">false</span>);</span></span></code></pre></div>
<h2 id="routing-mode">Routing mode</h2>
<p>In addition to the matching mode, a Router supports several routing
modes, implementing various algorithms:</p>
<ul>
<li>Best match</li>
<li>First match (default since Restlet 2.0)</li>
<li>Last match</li>
<li>Random match</li>
<li>Round robin</li>
<li>Custom</li>
</ul>
<p>By default, when considering a URI to route, a Router computes an
affinity score for each declared route then choose the one that have the
best affinity score. You can update this behavior by setting the routing
mode property with one of the listed modes declared above.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>router.<span style="color:#b44">setRoutingMode</span>(Router.<span style="color:#b44">FIRST</span>);</span></span></code></pre></div>
<h2 id="matching-of-template-variables">Matching of template variables</h2>
<p>As said in the introduction, the routing feature relies on the
declaration of templates of URI. In the sample code below, the URI
template declares one variable called &ldquo;user&rdquo;:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>TemplateRoute<span style="color:#bbb"> </span>route<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span>router.<span style="color:#b44">attach</span>(<span style="color:#b44">&#34;/users/{user}&#34;</span>,<span style="color:#bbb"> </span>UserResource.<span style="color:#b44">class</span>);</span></span></code></pre></div>
<p>At run-time, the value of this variable is put into the attributes of
the request:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">this</span>.<span style="color:#b44">userId</span><span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span>(String)<span style="color:#bbb"> </span>getRequest().<span style="color:#b44">getAttributes</span>().<span style="color:#b44">get</span>(<span style="color:#b44">&#34;user&#34;</span>);</span></span></code></pre></div>
<p>By default a variable is meant to match a URI segment as defined in the
URI specification document. That is to say a sequence of characters
between two &ldquo;/&rdquo;.</p>
<p>A variable holds several other attributes:</p>
<ul>
<li>defaultValue: default value to use if the key couldn&rsquo;t be found in
the model (&quot;&quot; by default)..</li>
<li>required: indicates if the variable is required or optional (true by
default).</li>
<li>fixed: indicates if the value is fixed, in which case, the default
property is always used (false by default).</li>
<li>decodedOnParse: indicates if the parsed value must be decoded (false
by default).</li>
</ul>
<h1 id="tuning-the-routing">Tuning the routing</h1>
<p>Sometimes the same matching mode can&rsquo;t be used for all routes. For
example one delegates the routing to a child router while others routes
are resources directly processing the request. In this case, it is
possible to specify a different routing mode for each route using the
Route#setMatchingMode() method. The Route instance is returned by the
Router#attach() methods.</p>
<h2 id="matching-mode-1">Matching mode</h2>
<p>Regarding the matching mode, the default behavior of a Router can be
customized for a single route by updating its underlying template
instance as follow:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>TemplateRoute<span style="color:#bbb"> </span>route<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span>router.<span style="color:#b44">attach</span>(<span style="color:#b44">&#34;/users/{user}&#34;</span>,<span style="color:#bbb"> </span>UserResource.<span style="color:#b44">class</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>route.<span style="color:#b44">getTemplate</span>().<span style="color:#b44">setMatchingMode</span>(Template.<span style="color:#b44">MODE_STARTS_WITH</span>);</span></span></code></pre></div>
<h2 id="routing-and-queries-1">Routing and queries</h2>
<p>If you want to route URIs according to some values located in the query
part of the URI, and since those values have no determined place within
the query, you cannot rely on the URI template based routing feature
which is more or less based on regular expressions.<br>
In this case you have to define your own router (with the &ldquo;MODE_CUSTOM&rdquo;
routing mode). A sample implementation is available
<a href="https://download.restlet.talend.com/technical-resources/restlet-framework/archives/examples/router/2.3/queryRouter.zip" title="queryRouter">here</a>(application/zip, 3.6 kB).</p>
<h2 id="matching-of-template-variables-1">Matching of template variables</h2>
<p>By default, as said above, a template variable is meant to match a URI
segment. Here is the list of all available type of variables. For
additional details, see the <a href="https://javadocs.restlet.talend.com/2.3/jse/api/org/restlet/routing/Variable.html">Javadocs of the Variable
class</a>:</p>
<table>
  <thead>
      <tr>
          <th>Value</th>
          <th>Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>TYPE_ALL</strong></td>
          <td>Matches all characters.</td>
      </tr>
      <tr>
          <td><strong>TYPE_ALPHA</strong></td>
          <td>Matches all alphabetical characters.</td>
      </tr>
      <tr>
          <td><strong>TYPE_ALPHA_DIGIT</strong></td>
          <td>Matches all alphabetical and digital characters.</td>
      </tr>
      <tr>
          <td><strong>TYPE_COMMENT</strong></td>
          <td>Matches any TEXT excluding &ldquo;(&rdquo; and &ldquo;)&rdquo;.</td>
      </tr>
      <tr>
          <td><strong>TYPE_COMMENT_ATTRIBUTE</strong></td>
          <td>Matches any TEXT inside a comment excluding &ldquo;;&rdquo;.</td>
      </tr>
      <tr>
          <td><strong>TYPE_DIGIT</strong></td>
          <td>Matches all digital characters.</td>
      </tr>
      <tr>
          <td><strong>TYPE_TOKEN</strong></td>
          <td>Matches any CHAR except CTLs or separators.</td>
      </tr>
      <tr>
          <td><strong>TYPE_URI_ALL</strong></td>
          <td>Matches all URI characters.</td>
      </tr>
      <tr>
          <td><strong>TYPE_URI_FRAGMENT</strong></td>
          <td>Matches URI fragment characters.</td>
      </tr>
      <tr>
          <td><strong>TYPE_URI_PATH</strong></td>
          <td>Matches URI path characters (not the query or the fragment parts).</td>
      </tr>
      <tr>
          <td><strong>TYPE_URI_QUERY</strong></td>
          <td>Matches URI query characters.</td>
      </tr>
      <tr>
          <td><strong>TYPE_URI_SCHEME</strong></td>
          <td>Matches URI scheme characters.</td>
      </tr>
      <tr>
          <td><strong>TYPE_URI_SEGMENT</strong></td>
          <td>Matches URI segment characters.</td>
      </tr>
      <tr>
          <td><strong>TYPE_URI_UNRESERVED</strong></td>
          <td>Matches unreserved URI characters.</td>
      </tr>
      <tr>
          <td><strong>TYPE_WORD</strong></td>
          <td>Matches all alphabetical and digital characters plus the underscore.</td>
      </tr>
  </tbody>
</table>
<p>Here is the way to change the type of a variable:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>TemplateRoute<span style="color:#bbb"> </span>route<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span>router.<span style="color:#b44">attach</span>(<span style="color:#b44">&#34;/items/{itemName}&#34;</span>,<span style="color:#bbb"> </span>ItemResource);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>Map<span style="color:#666">&amp;</span>lt;String,<span style="color:#bbb"> </span>Variable<span style="color:#666">&amp;</span>gt;<span style="color:#bbb"> </span>routeVariables<span style="color:#bbb"> </span><span style="color:#666">=</span><span style="color:#bbb"> </span>route.<span style="color:#b44">getTemplate</span>().<span style="color:#b44">getVariables</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>routeVariables.<span style="color:#b44">put</span>(<span style="color:#b44">&#34;itemName&#34;</span>,<span style="color:#bbb"> </span><span style="color:#a2f;font-weight:bold">new</span><span style="color:#bbb"> </span>Variable(Variable.<span style="color:#b44">TYPE_URI_WORD</span>));</span></span></code></pre></div>

      </div>
    </div>
  </div>
</div>

  </div>
</main>
    <footer>
  <div class="m-footer skew-top-black">
    <div class="container">
      <div class="row eq-height">
        <div class="col-sm-2">
          <h4>Features</h4>
          <ul>
            <li><a href="/features">Features</a></li>
          </ul>
        </div>
        <div class="col-sm-2">
          <h4>Downloads</h4>
          <ul>
            <li><a href="/downloads/current/">Current Release</a></li>
            <li><a href="/downloads/past/">Other Releases</a></li>
            <li><a href="/downloads/legal-terms/">Legal Terms</a></li>
            <li><a href="/downloads/faq/">FAQ</a></li>
          </ul>
        </div>
        <div class="col-sm-2">
          <h4>Documentation</h4>
          <ul>
            <li><a href="/documentation/user-guide/2.5/">User guide</a></li>
            <li><a href="/documentation/tutorials/2.5/">Tutorials</a></li>
            <li><a href="/documentation/javadocs/2.5/">Javadocs</a></li>
            <li><a href="/documentation/2.5/changelog">Changelog</a></li>
          </ul>
        </div>
      </div>
      <div class="row copyright">
        <div class="col-xs-12 col-md-8">
          <ul class="list-inline">
            <li>&copy; 2025 Qlik All rights reserved.</li>
          </ul>
        </div>
      </div>

    </div>
  </div>

</footer>

    <script type="text/javascript" src="/js/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="/js/modernizr-2.8.3.min.js"></script>
<script type="text/javascript" src="/js/jquery.dlmenu.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>
<script type="text/javascript" src="/js/init.js"></script>
<script type="text/javascript" src="/js/prism.js" data-default-language="markup"></script>
<script type="text/javascript" src="/js/app.js"></script>
<script type="text/javascript" src="/js/downloads.js"></script>


</body>
</html>
