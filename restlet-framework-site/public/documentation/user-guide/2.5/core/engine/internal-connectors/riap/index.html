<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<link rel="apple-touch-icon" href="apple-touch-icon.png">
<link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico">
<title>Restlet framework | RIAP</title>

  
  
    
      <link rel="stylesheet" href="/css/app.min.css">
    
  



<link rel="stylesheet" type="text/css" href="/css/vendor/magnific-popup.css">

<link rel="stylesheet" href="/css/custom.css" />
<link rel="stylesheet" href="/css/app.min.css">
<link rel="stylesheet" href="/css/vendor/prism.css" />
<link rel="stylesheet" href="/css/vendor/component.css" />


      <script src="/js/main.js"></script>


</head>
<body class="static-nav documentation">

  <nav class="m-navigation m-navigation-site m-navigation-fixed" role="navigation">
  <div class="container-fluid">
    <div class="navigation-group">
      <a class="navigation-logo" href="/"><img src="/images/navbarTop.svg"></a>
      <span id="j-navigation-trigger" class="navigation-trigger"></span>
      <ul class="navigation-list navigation-list-right">
        <li class=""><a class="navigation__link" href="/features">Features</a></li>
        <li class="">
          <a class="navigation__link" href="/downloads/current">Download</a>
        </li>
        <li class="">
            <a class="navigation__link" href="/documentation/tutorials/2.5/">Documentation</a></li>
      </ul>
    </div>
  </div>
</nav>


<main id="main" role="main">
  <div class="documentation-wrapper">
<div class="sidebar-wrapper hidden-xs hidden-sm">
  <aside class="section-bg-mako text-white">
    <nav class="documentation-sidebar" aria-label="Documentation navigation" role="navigation">
      <ul id="accordion" class="nav documentation-nav">
        <li>
          <a href="#submenu-1" class="accordion-toggle toggle-switch"><img src="/images/restlet_white_32.svg">Framework</a>
          <ul id="submenu-1" class="nav panel-switch" role="menu">
            <li>
              <a href="#subsubmenu-1" class="accordion-toggle toggle-switch">User guide</a>
              <ul id="subsubmenu-1" class="nav panel-switch lowest-lewel" role="menu">
                <li><a href="/documentation/user-guide/2.5/introduction/overview" >Part 1 - Introduction</a></li>
                <li><a href="/documentation/user-guide/2.5/core/overview" class="active" >Part 2 - Core Restlet</a></li>
                <li><a href="/documentation/user-guide/2.5/editions/overview" >Part 3 - Restlet Editions</a></li>
                <li><a href="/documentation/user-guide/2.5/extensions/overview" >Part 4 - Restlet Extensions</a></li>
                <li><a href="/documentation/user-guide/2.5/appendices/glossary">Appendices</a></li>
              </ul>
            </li>
            <li><a href="/documentation/tutorials/2.5/overview" >Tutorials</a></li>
            <li><a href="/documentation/javadocs/2.5/" >Javadocs</a></li>
            <li><a target="_blank" href="/documentation/2.5/changelog">Change Log</a></li>
          </ul>
        </li>
      </ul>
    </nav>
  </aside>

</div>

<div class="content-wrapper section-bg-white">
  <div class="row hidden-xs hidden-sm">
  <div class="col-md-12">
    <div class="h-cta h-cta--large section-bg-grey">
      <img class="large" src="/images/restlet-framework-dark.svg" alt="Restlet Framework">
      <a href="/downloads/current" class="m-button m-button-flat-green pull-right">Install Framework</a>
    </div>
  </div>
</div>

  <div class="mobile-nav hidden-md hidden-lg">
  <div class="dl-menu-container in-content">
    <div id="dl-menu" class="dl-menuwrapper">
      <button class="dl-trigger">Open Menu</button>
      <ul class="dl-menu">
        <li class="">
          <a href="#">User guide</a>
          <ul class="dl-submenu">
            <li>mobile-nav</li>


      </ul>
    </div>
  </div>
</div>


  <div class="row">
    <div class="col-md-3">
      
<nav class="inner-nav hidden-xs hidden-sm">
  <ul class="content-nav">
    
<nav class="inner-nav hidden-xs hidden-sm">
  <ul class="content-nav">
    <li>
      <a href="/documentation/user-guide/2.4/introduction/overview/">Overview</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/features/">Features</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/">What&#39;s new</a>
        <ul>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.4/">In version 2.4</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.3/">In version 2.3</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.2/">In version 2.2</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.1/">In version 2.1</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.0/">2</a>
        <ul>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.0/api/">API improvements</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.0/engine/">Engine</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.0/extensions/">Extensions</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.0/editions/">Editions</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.0/misc/">Misc</a>
    </li>
    <li>
      <a href="/documentation/user-guide/2.4/introduction/whats-new/2.0/migration/">Migration</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
  </ul>
</nav>

  </ul>
</nav>

    </div>
    <div class="col-md-9">
      <div class="documentation-content">
        

        <h1>Restlet Internal Access Protocol</h1>
        <h1 id="introduction">Introduction</h1>
<p>RIAP is used to access to other resources hosted in the same Restlet
Component or VirtualHost or Application, allowing powerful
modularization of larger Restlet applications.</p>
<p>This pseudo-protocol came to life as a solution for the <a href="http://restlet.tigris.org/issues/show_bug.cgi?id=374">issue 374 &ldquo;Add
support for pseudo
protocols&rdquo;</a>.
Which in turn started of based from discussion on <a href="http://restlet.tigris.org/issues/show_bug.cgi?id=157">issue 157 &ldquo;Optimize
Internal
Calls&rdquo;</a>?</p>
<h1 id="description">Description</h1>
<p>The riap:// scheme identifies a so-called pseudo-protocol (terminology
derived from Apache Cocoon pointing out the difference between &lsquo;real&rsquo; or
&lsquo;official&rsquo;/ public protocols and this scheme which only relates to
internal processing of the Restlet system architecture.</p>
<p>RIAP is short for &lsquo;Restlet Internal Access Protocol&rsquo;. In short, it is
just a mechanism that allows various applications to call upon each
other to retrieve resources for further processing.</p>
<p>&ldquo;Application&rdquo; here refers to the strict Restlet API notion. Same remark
should be made on the usage of &ldquo;Component&rdquo; further down.</p>
<p>The riap:// scheme brings a URI-notation for these inter-application
calls. With that URI-notation those calls fall naturally under appliance
of the uniform interface. There are three blends of this protocol, that
use distinct &lsquo;authorities&rsquo; for different use cases.</p>
<p><code>riap://component/\*\*</code></p>
<ul>
<li>resolves the remainder URI with respect to the current context&rsquo;s
&ldquo;component&rdquo;</li>
</ul>
<p><code>riap://host/\*\*</code></p>
<ul>
<li>resolves the remainder URI with respect to the current context&rsquo;s
&ldquo;virtual host&rdquo;</li>
</ul>
<p><code>riap://application/\*\*</code></p>
<ul>
<li>resolves the remainder URI with respect to the current context&rsquo;s
&ldquo;application&rdquo; <br>
(so applications could use this scheme to call resources within
themselves!)</li>
</ul>
<h2 id="use-case">Use case</h2>
<p>Think about some application X that needs a resource Y that is available
on a configurable base URI. Whatever that base URI is, the
application-implementation should just use the
context.getClientDispatcher() to get() that needed resource.</p>
<p>So basically the dependency from application X to &ldquo;whatever service that
will offer me resource Y&rdquo; can be expressed in this base-URI.  Thinking
about dependency injection solutions, the configuration of X is covered
by calling some setResourceYBaseUri(&hellip;).  That will cover any of these
&lsquo;service-providers&rsquo; of this resource Y:</p>
<p><code>file://whateverpath/Y</code></p>
<ul>
<li>a local static file</li>
</ul>
<p><code>http://service.example.com/somepath/Y</code></p>
<ul>
<li>an external service provider</li>
</ul>
<p><code>riap://component/internalpath/Y</code></p>
<ul>
<li>a URI resolved versus the internal router of the current &lsquo;Component&rsquo;</li>
</ul>
<p><code>riap://application/fallback/Y</code></p>
<ul>
<li>this application itself providing some basic version of the required
resource.</li>
</ul>
<p>Next to this expression flexibility of dependencies, this riap://
approach ensures some extra</p>
<p>efficiency:</p>
<ol>
<li>It avoids going through the actual network layers versus the
alternative of calling http://localhost/publicpath/Y</li>
<li>It offers direct access to the Response and Representation objects
allowing to bypass possibly useless serialization-deserialization
(e.g. for sax and or object representations)</li>
</ol>
<p>shielding:</p>
<ol>
<li>It offers the possibility to keep the internal component offering
resource Y to be available only internally (not publicly over
http://hostname/publicpath/Y)</li>
</ol>
<p>Bottom line: the basic idea behind this riap:// is one of flexibly
decomposing your &lsquo;component&rsquo; in smaller
reusable/configurable/interchange-able &lsquo;applications&rsquo; while assuring
optimal efficiency when calling upon each other.</p>
<h2 id="how-to-use">How to use</h2>
<h3 id="calling-the-riap">Calling the riap:</h3>
<p>To call a resource via the  riap:// scheme one can just use:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Context<span style="color:#bbb"> </span>context;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>context.<span style="color:#b44">getClientDispatcher</span>().<span style="color:#b44">get</span>(<span style="color:#b44">&#34;riap://component/some-path/Y&#34;</span>);</span></span></code></pre></div>
<p>There is no need to register a RIAP client, this is handled by built-in
support.</p>
<h3 id="making-resources-available-to-the-riap">Making resources available to the riap</h3>
<p>Applications need just to be attached to the internalRouter property of
the Component.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Component<span style="color:#bbb"> </span>component;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>component.<span style="color:#b44">getInternalRouter</span>().<span style="color:#b44">attach</span>(<span style="color:#b44">&#34;/path&#34;</span>,<span style="color:#bbb"> </span>someApplication);</span></span></code></pre></div>
<p>Applications can be attached multiple times (at different paths) to both
the internal router as to several virtual hosts.<br>
A &lsquo;pure internal&rsquo; application should only be attached to the internal
router.</p>
<h2 id="limitations">Limitations</h2>
<p>Note that internal/dynamic resources that require protocol specific
attributes of the URI where it is invoked (like hostname) might yield
errors or unexpected results when called via the RIAP protocol.</p>
<p>Also beware that constructed URI&rsquo;s to secundary resources which are
based on the &lsquo;own reference&rsquo; can yield unexpected or at least different
results when the resource is suddenly being called via RIAP.</p>
<p>In addition, if you attempt to nest applications, the sub-application
can&rsquo;t refer to the parent application via RIAP at this point.</p>
<p>Give these cases some special attention during your design, specially
when porting stuff from other environments (e.g. Servlet app)</p>

      </div>
    </div>
  </div>
</div>

  </div>
</main>
    <footer>
  <div class="m-footer skew-top-black">
    <div class="container">
      <div class="row eq-height">
        <div class="col-sm-2">
          <h4>Features</h4>
          <ul>
            <li><a href="/features">Features</a></li>
          </ul>
        </div>
        <div class="col-sm-2">
          <h4>Downloads</h4>
          <ul>
            <li><a href="/downloads/current/">Current Release</a></li>
            <li><a href="/downloads/past/">Other Releases</a></li>
            <li><a href="/downloads/legal-terms/">Legal Terms</a></li>
            <li><a href="/downloads/faq/">FAQ</a></li>
          </ul>
        </div>
        <div class="col-sm-2">
          <h4>Documentation</h4>
          <ul>
            <li><a href="/documentation/user-guide/2.5/">User guide</a></li>
            <li><a href="/documentation/tutorials/2.5/">Tutorials</a></li>
            <li><a href="/documentation/javadocs/2.5/">Javadocs</a></li>
            <li><a href="/documentation/2.5/changelog">Changelog</a></li>
          </ul>
        </div>
      </div>
      <div class="row copyright">
        <div class="col-xs-12 col-md-8">
          <ul class="list-inline">
            <li>&copy; 2025 Qlik All rights reserved.</li>
          </ul>
        </div>
      </div>

    </div>
  </div>

</footer>

    <script type="text/javascript" src="/js/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="/js/modernizr-2.8.3.min.js"></script>
<script type="text/javascript" src="/js/jquery.dlmenu.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>
<script type="text/javascript" src="/js/init.js"></script>
<script type="text/javascript" src="/js/prism.js" data-default-language="markup"></script>
<script type="text/javascript" src="/js/app.js"></script>
<script type="text/javascript" src="/js/downloads.js"></script>


</body>
</html>
